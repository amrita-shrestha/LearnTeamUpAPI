// import axios from 'axios';
//
// const leave = async () => {
//     return await axios.get('https://api.teamup.com/ksifqcnnwkpixuit4t/events?&subcalendarId[]=11758347,&startDate=2022-12-01&endDate=2023-01-22',
//     {
//         headers: {
//             'Content-Type': 'application/json',
//             'Teamup-Token':'2642a17a7eda1d6361f05c9358612f8914d08d32c6e8140af6926be1e47410b5'
//         }
//     }
//     )
// }
// const calLeave = await leave()
// console.log(calLeave.data)

const data = {
    "events" : [
        {
            "all_day" : true,
            "attachments" : [],
            "creation_dt" : "2023-01-24T18:00:54+05:45",
            "delete_dt" : null,
            "end_dt" : "2022-12-12T23:59:00",
            "id" : "1398562299",
            "location" : "",
            "notes" : "",
            "readonly" : false,
            "remote_id" : null,
            "ristart_dt" : null,
            "rrule" : "",
            "rsstart_dt" : null,
            "series_id" : null,
            "start_dt" : "2022-12-12T00:00:00",
            "subcalendar_id" : 11758347,
            "subcalendar_ids" : [
                11758347
            ],
            "title" : "amrita",
            "tz" : null,
            "update_dt" : null,
            "version" : "02b6fe01270e",
            "who" : ""
        },
        {
            "all_day" : true,
            "attachments" : [],
            "creation_dt" : "2023-01-24T18:44:51+05:45",
            "delete_dt" : null,
            "end_dt" : "2022-12-13T23:59:00",
            "id" : "1398601519",
            "location" : "",
            "notes" : "",
            "readonly" : false,
            "remote_id" : null,
            "ristart_dt" : null,
            "rrule" : "",
            "rsstart_dt" : null,
            "series_id" : null,
            "start_dt" : "2022-12-12T00:00:00",
            "subcalendar_id" : 11758347,
            "subcalendar_ids" : [
                11758347
            ],
            "title" : "amrita",
            "tz" : null,
            "update_dt" : "2023-01-24T18:45:47+05:45",
            "version" : "8a05a9ce9f00",
            "who" : ""
        },
        {
            "all_day" : false,
            "attachments" : [],
            "creation_dt" : "2023-01-24T18:00:10+05:45",
            "delete_dt" : null,
            "end_dt" : "2023-01-09T07:00:00+05:45",
            "id" : "1398562084",
            "location" : "",
            "notes" : "",
            "readonly" : false,
            "remote_id" : null,
            "ristart_dt" : null,
            "rrule" : "",
            "rsstart_dt" : null,
            "series_id" : null,
            "start_dt" : "2023-01-09T06:00:00+05:45",
            "subcalendar_id" : 11758347,
            "subcalendar_ids" : [
                11758347
            ],
            "title" : "amrita",
            "tz" : null,
            "update_dt" : null,
            "version" : "40dd1e4be6db",
            "who" : ""
        },
        {
            "all_day" : true,
            "attachments" : [],
            "creation_dt" : "2023-01-24T17:45:05+05:45",
            "delete_dt" : null,
            "end_dt" : "2023-01-16T23:59:00",
            "id" : "1398546897",
            "location" : "",
            "notes" : "",
            "readonly" : false,
            "remote_id" : null,
            "ristart_dt" : null,
            "rrule" : "",
            "rsstart_dt" : null,
            "series_id" : null,
            "start_dt" : "2023-01-16T00:00:00",
            "subcalendar_id" : 11758347,
            "subcalendar_ids" : [
                11758347
            ],
            "title" : "amrita",
            "tz" : null,
            "update_dt" : "2023-01-24T17:45:15+05:45",
            "version" : "4a032c795598",
            "who" : ""
        },
        {
            "all_day" : true,
            "attachments" : [],
            "creation_dt" : "2023-01-24T17:46:04+05:45",
            "delete_dt" : null,
            "end_dt" : "2023-01-17T23:59:00",
            "id" : "1398547521",
            "location" : "",
            "notes" : "",
            "readonly" : false,
            "remote_id" : null,
            "ristart_dt" : null,
            "rrule" : "",
            "rsstart_dt" : null,
            "series_id" : null,
            "start_dt" : "2023-01-17T00:00:00",
            "subcalendar_id" : 11758347,
            "subcalendar_ids" : [
                11758347
            ],
            "title" : "amrita",
            "tz" : null,
            "update_dt" : null,
            "version" : "b8e0790718bb",
            "who" : ""
        },
        {
            "all_day" : true,
            "attachments" : [],
            "creation_dt" : "2023-01-24T17:46:04+05:45",
            "delete_dt" : null,
            "end_dt" : "2023-01-17T23:59:00",
            "id" : "1398547524",
            "location" : "",
            "notes" : "",
            "readonly" : false,
            "remote_id" : null,
            "ristart_dt" : null,
            "rrule" : "",
            "rsstart_dt" : null,
            "series_id" : null,
            "start_dt" : "2023-01-17T00:00:00",
            "subcalendar_id" : 11758347,
            "subcalendar_ids" : [
                11758347
            ],
            "title" : "Salipa",
            "tz" : null,
            "update_dt" : "2023-01-25T15:39:48+05:45",
            "version" : "84fdcd64268c",
            "who" : ""
        },
        {
            "all_day" : true,
            "attachments" : [],
            "creation_dt" : "2023-01-25T15:39:04+05:45",
            "delete_dt" : null,
            "end_dt" : "2023-01-18T23:59:00",
            "id" : "1399666161",
            "location" : "",
            "notes" : "",
            "readonly" : false,
            "remote_id" : null,
            "ristart_dt" : null,
            "rrule" : "",
            "rsstart_dt" : null,
            "series_id" : null,
            "start_dt" : "2023-01-18T00:00:00",
            "subcalendar_id" : 11758347,
            "subcalendar_ids" : [
                11758347
            ],
            "title" : "@salipa",
            "tz" : null,
            "update_dt" : "2023-01-25T15:42:23+05:45",
            "version" : "e7a829552822",
            "who" : ""
        }
    ],
    "timestamp" : 1674640528
}
// console.log(data)
// console.log(typeof data) // object
// console.log(typeof data.events) // object
// console.log(data.events[2])
const eachleave = data.events
// console.log(typeof eachleave)
// console.log(Array.from(eachleave))

const listOfStaff =  (eachleave)=>{
    const staff = new Set();
    eachleave.map((value) =>{
        let name = value.title.replace('@','').toLocaleLowerCase()
        console.log(name)
        staff.add(name)
    })
    return staff
}
const staffName = listOfStaff(eachleave)
console.log(staffName)

const formattedDate = (dateSrting) =>{
    const date = new Date(dateSrting)
    let month = date.getMonth() + 1
    let day = date.getDate()
    if (month < 10) {
        month = `0${month}`
    }
    if (day < 10) {
        day = `0${day}`
    }
    return `${date.getFullYear()}-${month}-${day}`
}
const leaveCount = (eachleave) => {
    eachleave.map((value) => {
        // const dates = []
        let addedHours = 0
        console.log(value.start_dt)
        const leaveStartDate = value.start_dt

        const leaveEndDate = value.start_dt
        addedHours += new Date(value.start_dt) - new Date(value.start_dt)
        console.log(addedHours)
        // console.log(leaveStartDate.format())
        // console.log(leaveStartDate.toString());
        // const leavedate= leaveStartDate.split("T")
        // const firstDate = new Date(leaveStartDate)
        // console.log(firstDate)
        // dates.push(formattedDate(firstDate))
        // console.log(dates)
        // const leavedate= leaveStartDate.replace("+05:45","")
        // console.log(leavedate)
        // console.log(value.end_dt)
    })
}


leaveCount(eachleave)
